import libPath from 'path';
import { resolveFileExtension, transpileTs } from '@lwrjs/shared-utils';
export async function getServiceModule(path, { cacheDir, rootDir }) {
    try {
        if (path.endsWith('.ts')) {
            const fullPath = resolveFileExtension(path);
            path = await transpileTs(fullPath, { rootDir, cacheDir: libPath.join(cacheDir, 'services') });
        }
        const moduleEntry = await import(path);
        return moduleEntry.default || moduleEntry;
    }
    catch (err) {
        console.log(err);
        throw new Error(`Unable to get Service: ${path}`);
    }
}
//# sourceMappingURL=services.js.map