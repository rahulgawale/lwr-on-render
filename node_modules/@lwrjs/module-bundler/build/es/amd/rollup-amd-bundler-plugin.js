export function bundleDefinitions(options) {
    const { moduleGraphs } = options;
    let root;
    return {
        name: 'bundle-plugin',
        resolveDynamicImport() {
            // NOTE: This might be configurable in the future
            return false;
        },
        resolveId(id, importer) {
            if (!importer) {
                root = id;
            }
            if (importer && id !== root && !id.includes('#')) {
                return {
                    id,
                    external: true,
                };
            }
            return id;
        },
        async load(id) {
            return moduleGraphs.linkedDefinitions[id].linkedSource;
        },
    };
}
//# sourceMappingURL=rollup-amd-bundler-plugin.js.map