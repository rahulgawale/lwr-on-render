var __defProp = Object.defineProperty;
var __markAsModule = (target) => __defProp(target, "__esModule", {value: true});
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, {get: all[name], enumerable: true});
};

// packages/@lwrjs/module-bundler/src/amd/rollup-amd-bundler-plugin.ts
__markAsModule(exports);
__export(exports, {
  bundleDefinitions: () => bundleDefinitions
});
function bundleDefinitions(options) {
  const {moduleGraphs} = options;
  let root;
  return {
    name: "bundle-plugin",
    resolveDynamicImport() {
      return false;
    },
    resolveId(id, importer) {
      if (!importer) {
        root = id;
      }
      if (importer && id !== root && !id.includes("#")) {
        return {
          id,
          external: true
        };
      }
      return id;
    },
    async load(id) {
      return moduleGraphs.linkedDefinitions[id].linkedSource;
    }
  };
}
