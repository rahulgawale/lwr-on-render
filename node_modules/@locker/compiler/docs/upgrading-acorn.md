# Upgrading Acorn

The `@locker/compiler` uses [`acorn`] as its parser and [`acorn-walk`] as
its [AST] walker under the hood. The Acorn packages should be updated regularly
to improve performance and stability as well as to keep up with ECMAScript syntax
support. The following things should be considered when updating:

-   As with any dependency when updating we should be mindful of API changes.
    This is especially important because we utilize [custom Acorn plugins][1] that
    touch several APIs.

-   Options the Acorn parser accepts may change so we should take care to review
    and update them as needed in [compiler/src/parser.js][2].

[1]: https://github.com/salesforce-experience-platform/locker/tree/main/packages/%40locker/compiler/src/acorn
[2]: https://github.com/salesforce-experience-platform/locker/blob/main/packages/%40locker/compiler/src/parser.js
[`acorn`]: https://www.npmjs.com/package/acorn
[`acorn-walk`]: https://www.npmjs.com/package/acorn-walk
[AST]: https://en.wikipedia.org/wiki/Abstract_syntax_tree
